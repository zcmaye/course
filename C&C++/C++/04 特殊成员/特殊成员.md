# 特殊成员

## 静态成员

静态成员分为`静态成员变量`和`静态成员函数`，在成员变量和成员函数前面加上关键字static即可！

静态成员提供了一个同类对象间数据共享的机制，一个类中可以有一个或多个静态成员，所有的对象都共享这些静态成员，都可以使用它。

### 静态成员变量

static 成员变量和普通 static 变量一样，都在内存分区中的全局数据区分配内存，到程序结束时才释放。这就意味着，static 成员变量不随对象的创建而分配内存，也不随对象的销毁而释放内存。而普通成员变量在对象创建时分配内存，在对象销毁时释放内存。

静态成员变量必须在类的内部申明，在类的外部定义。(C++17有了新写法，可以直接内联到类的内部)

```cpp
class XXX
{
    static int s_cnt;	//类的内部声明
    inline static int s_num;	//C++17 可以直接内联，就不需要在类的外部定义了
};
int XXX::s_cnt = 0;		//类的外部定义
```

静态成员变量既可以通过对象名访问，也可以通过类名访问，但要遵循 private、protected 和 public 关键字的访问权限限制。

![未命名文件 (1)](assets/未命名文件 (1).png)

### 静态成员函数

在类中，static 除了可以声明静态成员变量，还可以声明静态成员函数。普通成员函数可以访问所有成员（静态和非静态都可以），静态成员函数只能访问静态成员。

比如说，我们要通过函数获取学生总人数(m_classSize)，有两种方法

+ 定义普通成员函数：可以访问静态成员，但是这个函数只对静态成员进行操作，加上 static 语义更加明确。
+ 定义静态成员函数：在函数前面加上static，可以声明为静态函数



静态成员函数调用方式，有两种：

+ 和普通成员函数一样，通过对象去调用        maye->classSize();
+ 不定义对象，直接通过<类名::函数名>去调用  Student::classSize();



**思考：为什么静态成员函数不能调用类的非静态成员？**



## 面向对象模型

C++对象模型可以概括为以下两部分：

+ 语言中直接支持面向对象程序设计的部分， 主要设计如构造函数、析构函数、虚函数、继承、多态等等。
+ 对于各种支持的底层实现机制