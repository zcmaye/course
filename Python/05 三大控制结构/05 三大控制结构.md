## 三种控制结构

结构化程序设计提供了3种控制结构，分别是顺序结构、分支结构和循环结构，早在1966年，牛人Bohm和Jacopini便证明了，用此3种基本结构可以构成任意复杂的算法。3种基本控制结构如所示。

![image-20210408213358198](assets/image-20210408213358198.png)

## 顺序结构

顺序结构表示程序中的各操作是按照它们出现的先后顺序执行的。

顺序结构是最简单的程序结构，也是最常用的程序结构，只要按照解决问题的顺序写出相应的语句就行，它的执行顺序是自上而下，依次执行。

例如，a = 3，b = 5，现交换a，b的值，这个问题就好像交换两个杯子水，这当然要用到第三个杯子，假如第三个杯子是c，那么正确的程序为： c = a； a = b； b = c； 执行结果是a = 5，b = c = 3如果改变其顺序，写成：a = b； c = a； b = c； 则执行结果就变成a = b = c = 5，不能达到预期的目的，初学者最容易犯这种错误。

## 分支结构

顺序结构的程序虽然能解决计算、输出等问题，但不能做判断再选择。对于要先做判断再选择的问题就要使用分支结构。分支结构的执行是依据一定的条件选择执行路径，而不是严格按照语句出现的物理顺序。

### 单分支

+ 语法

  ```c
  if condition_expression:
   	statement
  ```
  
  + **condition_expression**即条件表达式。
  + **statement**即当条件成立时，执行的语句。
  
+ 规则：

  + 当条件成立(为真)时，执行语句，否则不执行。

如：输入一个数，如果是负数，转成正数并输出。

```python
num = int(input("input num:"))
if num < 0:
    num = -num
print(f"num is {num}")
```

**示例：**

从键盘输入三个整数到变量a，b，c中，将这三个数由小到大进行排序，使a中存放最大的数，c中存档最小的数，然后输出。

```python
a,b,c = 7,10,121

if a < b:
    t = a
    a = b
    b = t
if a < c:
    t = a
    a = c
    c = t
if b < c:
    b,c = c,b

print(f"a {a},b {b},c {c}")
```



### 双分支

+ 语法

  ```python
  if 条件表达式:
      # 条件为 True 时执行的代码块
      分支1
  else:
      # 条件为 False 时执行的代码块
      分支2
  ```
  
+ 规则：当条件成立时，执行分语句1，否则执行语句2。

**示例：**

1. 输入一个数，输入是偶数输出`even number`，奇数输出`odd number`。

2. 某公司工资按周发放，标准是每小时制20元，若员工周工作时间超过40小时，超出部分每小时30元。输入一名员工一周的工作小时数，输出他的周工资。

3. 编写程序，输入三角形的三条边，求其面积。注意：如果3条边构不成三角形，则要给出错误提示。
   + 设三角形三条边分别为a、b、c，三角形的面积为S，则公式如下：

$$
S =\sqrt{p(p-a)(p-b)(p-c)}
$$

其中p等于三角形周长的一半。即p=(1/2)(a+b+c)。

4. 输入一个三位整数，判断它是否为水仙花数，当输入数据不正确的时候，要求给出错误提示。
   + 水仙花数是一个三位数，其各位数的立方和等于该数本身，如153 = 1<sup>3</sup>+5<sup>3</sup>+3<sup>3</sup>



### 多分支

+ 语法

  ```c
  if 条件表达式1:
      # 条件1为 True 时执行的代码块
      分支1
  elif 条件表达式2:
      # 条件2为 True 时执行的代码块
      分支2
  # 可以有多个 elif 分支
  else:
      # 所有条件都为 False 时执行的代码块
      其他
  ```

+ 规则：条件1成立时，执行语句1，然后结束if语句，否则继续依次判断后面的条件，或者直到某个条件满足。如果条件都不满足，则会执行else分支。

**示例：**

1. 有一个函数如下，写一段程序，输入x，输出y

$$
y = 
\left[\begin{matrix}
x&x<1\\
2x-1&1<=x<10\\
3x-11&x>=10
\end{matrix}\right]
$$

2. 从键盘输入3个整数a，b，c的值，求一元二次方程 ax<sup>2</sup>+bx+c=0的跟，计算结果保留两位小数。

   + 一元二次方程根的判别式：△ = b<sup>2</sup>-4ac
     + △>0 有两个不等的实根
     + △=0 有两个相等的实根
     + △<0 没有实根

   + 一元二次方程求根公式：
     $$
     x_1,_2 = \frac{-b\pm\sqrt{b^2-4ac}}{2a}
     $$
     

### if嵌套

在一个 `if` 语句块里还可以嵌套另一个 `if` 语句，以实现更复杂的条件判断。

#### 示例

```python
age = 20
gender = "男"
if age >= 18:
    if gender == "男":
        print("你是成年男性。")
    else:
        print("你是成年女性。")
else:
    if gender == "男":
        print("你是未成年男性。")
    else:
        print("你是未成年女性。")
```

在这个例子中，首先判断 `age` 是否大于或等于 18，然后在其基础上再判断 `gender` 的值，从而输出不同的结果。

### 三元运算符

Python 中的三元运算符（也称为条件表达式）可以看作是一种简洁的分支结构，它可以根据条件的真假返回不同的值。

**基本语法**

```python
值1 if 条件表达式 else 值2
```

条件成立返回值1，否则返回值2。

**示例代码**

```python
age = 20
message = "成年" if age >= 18 else "未成年"
print(message)
```

**代码解释**

- 当 `age >= 18` 条件为 `True` 时，表达式返回 `"成年"`；当条件为 `False` 时，返回 `"未成年"`。
- 这种方式可以让代码更加简洁，尤其适用于简单的条件判断场景。

## 循环结构

循环结构用于重复执行一段代码，主要有 `for` 循环和 `while` 循环两种，另外还有 `break`、`continue` 等控制循环流程的语句。

### for循环

### while循环

[Python 入门教程（5）流程控制 | 5.2、for 语句_python for语法-CSDN博客](https://blog.csdn.net/cloud323/article/details/142657646)

# 课堂练习

+ 编写程序：从屏幕上输入一个学生的成绩(0-100)，对学生成绩进行评定：

>　　<59为"E"
>
>​       ==59为经典语录
>
>​       60~69为"D"
>
>​       70~79为"C"
>
>​       80~89为"B"
>
>​       90以上为"A"
>
>​       <0或>100提示成绩输入出错



<font color="red">思考：如何使用switch完成分数等级评定？</font>



+ 请写出与`a=(b>c?b:c)>d?1:0`程序段功能等价的if语句！<font color=white>if(b>d || c>d){a=1;}else {a=0;}</font>