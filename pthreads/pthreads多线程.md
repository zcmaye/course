多线程编程早已不是一个新鲜概念，在现代计算机的硬件支持下，开启多个线程分段执行耗时任务已成为一种常见的性能优化手段，并且使用多线程还可以充分利用 CPU 的资源。

## 一、进程、线程和并发、并行

要理解多线程，需要先搞懂几个概念：

- **进程**：每个正在系统上运行的程序都是一个进程。每个进程包含一到多个线程。进程也可能是整个程序或者是部分程序的动态执行。
- **线程**：线程是一组指令的集合，或者是程序的特殊段，它可以在程序里独立执行。也可以把它理解为代码运行的上下文。所以线程基本上是轻量级的进程，它负责在单个程序里执行多任务。通常由操作系统负责多个线程的调度和执行。线程是程序中一个单一的顺序控制流程。
- **多线程**：在单个程序中同时运行多个线程完成不同的工作，称为多线程。
- **并发**：在操作系统中，并发是指一个时间段中有几个程序都处于已启动运行到运行完毕之间，且这几个程序都是在同一个处理机上运行，但任一个时刻点上只有一个程序在处理机上运行。
- **并行**：与并发的区别是，同一时刻有多个程序在处理机上运行。(多核CPU)

线程和进程的区别在于，**子进程和父进程有不同的代码和数据空间**，**而多个线程则共享数据空间**，每个线程有自己的执行堆栈和程序计数器为其执行上下文。**多线程主要是为了节约 CPU 时间**，线程的运行中需要使用计算机的内存资源和 CPU。

## 1.4 开始入门

**POSIX线程**（POSIX threads），简称Pthreads，是线程的**POSIX标准**。该标准定义了创建和操纵线程的一整套API。在**类Unix操作系统**（Unix、Linux、Mac OS X等）中，都使用Pthreads作为操作系统的线程。

*pthreads-win32*是一个Windows下使用的开源POSIX线程库。

# 1.线程管理

## 1.1 你好并发世界

